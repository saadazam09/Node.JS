<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

    <div class="p-6 rounded shadow-lg w-full max-w-md bg-white">
        <form id="task-form" action="/create" method="POST">
            <div class="mb-4">
                <input type="text" placeholder="Title goes here" 
                name="detail"
                id="task-detail"
                class="w-full h-12 px-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div class="mb-4">
                <textarea placeholder="Write your task detail" 
                name="body"
                id="task-body"
                class="w-full h-24 px-3 border border-gray-300 rounded focus:outline-none focus:ring-2 resize-none focus:ring-blue-500"></textarea>
            </div>
            <button type="submit" class="w-full h-12 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                Submit
            </button>
        </form>

        <div class="mt-6" id="task-list">
            <h2 class="text-lg font-semibold mb-2">Tasks</h2>
            
            <% if (files.length > 0) { %>
                <% files.forEach(function(task, index) { %>
                    <div class="bg-gray-100 p-4 rounded shadow-sm mb-2">
                        <p class="mb-2 font-bold"><%= task.detail %></p>
                        <p class="mb-2"><%= task.body %></p>
                        <div class="flex justify-between">
                            <!-- Read More Link -->
                            <a href="/readmore/<%= index %>" class="text-blue-500 hover:underline">Read More</a>
                            
                            <!-- Delete Task Form -->
                            <form action="/delete/<%= index %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this task?');">
                                <button type="submit" class="text-red-500 hover:underline">Delete</button>
                            </form>
                        </div>
                    </div>
                <% }) %>
            <% } else { %>
                <p class="text-gray-500">No tasks yet.</p>
            <% } %>
            
        </div>
    </div>

</body>
</html>
